<!DOCTYPE html>
<html>
  <head>

      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  </head>
<body>

<p>Enter stocks you want to correlate:</p>

<form id="frm1">
    Stock1: <input id="stock1" type="text" name="fname"><br>
    Stock2: <input id="stock2" type="text" name="lname"><br><br>
    <input type="submit" class="button" id="submitDemo" />
  </form>

<br>
<br>

<div id="res"></div>

<script>
// cache element to reuse
let $res = $('#res');
// cache elements and bind input event handlers
let $stks = $('#stock1,#stock2')

$('#submitDemo').on('click', function(e) {
e.preventDefault();
  const req = new XMLHttpRequest();
  var data = [];
  req.onreadystatechange = function(event) {
    // XMLHttpRequest.DONE === 4
    if (this.readyState === XMLHttpRequest.DONE) {
      if (this.status === 200) {
        data = JSON.parse(this.responseText);
        // iterate over elements to get value and then generate key
        let key = $stks.map(function() {
            // get value
            return this.value.trim();
          })
          // get result as an array and then join with + symbol
          .get().join('+');
        // show result baked on key
        $res.text(key in data[0] ? data[0][key] : 'Not found')

      }
    }
  };

  req.open('GET', 'json/correlations.json', true);
  req.send(null);
});


</script>

</body>
</html>
