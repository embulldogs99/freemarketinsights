<!doctype html>

<link href="/css/mcleod-reset.css" rel="stylesheet">
<link href="/css/main.css" rel="stylesheet">
<link href="/css/main_iphone.css" media="(max-width: 600px)" rel="stylesheet">


<!--
// Store it in the cookies
document.cookie="selected=john"

// Get it in the profile.html
var cookie = document.cookie; -->




<html>

<header>
  <div class="banner">
    <div class="dropdown">
      <button class="dropbtn"> X </button>
        <div class="dropcontent">
          <a href="/html/home" class="dropdown"> Home </a>
          <a href="/html/about" class="dropdown"> About </a>
          <a href="/html/contact" class="dropdown"> Contact </a>
          <a href="/html/investors" class="dropdown"> Invest </a>
          <a href="/html/researchlinks" class="dropdown">Research</a>
          <a href="/html/portfolio" class="dropdown">Portfolio</a>
        </div>
  </div>


      <div class="title"> Free Market Insights</div>

    <a href="/html/signup">Sign Up</a> &nbsp*&nbsp
    <a href="/html/login">Login</a>&nbsp*&nbsp
    <a href="/html/profile">My Profile</a>
  </div><br>

  <div class="spacer">
<br>
<br>
<br>
<br>
<br>
    <div class="slogan">A Rational Approach to an Irrational Market</div>
  </div>

</header>

<body>


  <div class="sidebyside">

    <form action="/profile" method="GET">
      <font style="font-family: 'raitons';font-size=200%;">Become A Free Member</font><br><br>
      email:<br>
      <input id="email" type="email" name="email" value="" required><br>
      password:<br>
      <input id="pass" type="password" name="pass" value="" required><br>
      <br><br>
      <input type="submit" style="size:16px;color: black; background-color:white; font-family: 'raitons', Fallback, sans-serif;" value="Sign Up">
      <br><br><br><br><br><br><br><br><br><br>
      <a href="/login"><font style="size:12px;font-family:'Calibri';border:2px solid black;border-radius:20rem;background-color:white;padding:5px;">Already A Member? - Login Here</font></a>
    </form>
  </div>


<script src="https://cdn.jsdelivr.net/npm/node-forge@0.7.0/dist/forge.min.js"></script>


  <script>

  var email=document.getElementById("email").value;
  var password=document.getElementById("pass").value;
  if (pass=='' || email==''){alert("Please Fill All Fields");}else{
    const fs = require('fs');
    var md=forge.md.sha512.create();
    md.update(email);
    encriptedemail=md.digest().toHex();
    var md2=forge.md.sha512.create();
    md2.update(pass);
    encriptedpass=md.digest().toHex();
    var user={"email":encriptedemail,"pass":encriptedpass};

    fs.appendFile('/json/users.json', user, function (err) {
      if (err) throw err;
      console.log('Saved!');
    });
    document.cookie=email;
    location.replace("/home");

  }

  </script>


</body>
</html>
